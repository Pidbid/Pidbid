import{_ as y}from"./preload-helper.101896b7.js";import{h as T,ap as z,aG as G,ar as B,r as K,K as $,a as J,o as Q,a9 as i,j as W,k as X,D as e,x as o,B as u,l as a,u as g,n as Y,C as Z,q as ee,aD as ne,aE as oe}from"./vue.2fa98121.js";import{u as te}from"./userInfo.79f4e961.js";import{u as le}from"./themeConfig.d1e9143e.js";import{e as se}from"./mitt.7f99bbc0.js";import{L as S,S as re}from"./storage.542a95ff.js";import{b8 as ce,b9 as ae}from"./index.d83bf2e6.js";import{_ as ie}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.8901bb4c.js";const M=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=(()=>{if(typeof document>"u")return!1;const n=M[0],l={};for(const t of M)if((t==null?void 0:t[1])in document){for(const[_,b]of t.entries())l[n[_]]=b;return l}return!1})(),P={change:d.fullscreenchange,error:d.fullscreenerror};let r={request(n=document.documentElement,l){return new Promise((t,f)=>{const _=()=>{r.off("change",_),t()};r.on("change",_);const b=n[d.requestFullscreen](l);b instanceof Promise&&b.then(_).catch(f)})},exit(){return new Promise((n,l)=>{if(!r.isFullscreen){n();return}const t=()=>{r.off("change",t),n()};r.on("change",t);const f=document[d.exitFullscreen]();f instanceof Promise&&f.then(t).catch(l)})},toggle(n,l){return r.isFullscreen?r.exit():r.request(n,l)},onchange(n){r.on("change",n)},onerror(n){r.on("error",n)},on(n,l){const t=P[n];t&&document.addEventListener(t,l,!1)},off(n,l){const t=P[n];t&&document.removeEventListener(t,l,!1)},raw:d};Object.defineProperties(r,{isFullscreen:{get:()=>Boolean(document[d.fullscreenElement])},element:{enumerable:!0,get:()=>document[d.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[d.fullscreenEnabled])}});d||(r={isEnabled:!1});const w=r,q=n=>(ne("data-v-5c8ebff0"),n=n(),oe(),n),ue=q(()=>a("div",{class:"layout-navbars-breadcrumb-user-icon"},[a("i",{class:"iconfont icon-ziti",title:"组件大小"})],-1)),de=q(()=>a("i",{class:"icon-skin iconfont",title:"布局配置"},null,-1)),me=[de],fe={class:"layout-navbars-breadcrumb-user-icon"},_e=["title"],pe={class:"layout-navbars-breadcrumb-user-link"},be=["src"],he=T({name:"layoutBreadcrumbUser"}),ge=T({...he,setup(n){const l=z(()=>y(()=>import("./userNews.23ef3ea0.js"),["static/userNews.23ef3ea0.js","static/vue.2fa98121.js","static/_plugin-vue_export-helper.c27b6911.js","static/userNews.8896e1bc.css"])),t=z(()=>y(()=>import("./search.597d41ed.js"),["static/search.597d41ed.js","static/vue.2fa98121.js","static/tagsViewRoutes.9553160b.js","static/storage.542a95ff.js","static/_plugin-vue_export-helper.c27b6911.js","static/search.26dd0f1e.css"])),f=G(),_=te(),b=le(),{userInfos:v}=B(_),{themeConfig:C}=B(b),F=K(),m=$({isScreenfull:!1,disabledSize:"large"}),I=J(()=>{let c="";const{layout:p,isClassicSplitMenu:s}=C.value;return["defaults","columns"].includes(p)||p==="classic"&&!s?c="1":c="",c}),N=()=>{if(!w.isEnabled)return ce.warning("暂不不支持全屏"),!1;w.toggle(),w.on("change",()=>{w.isFullscreen?m.isScreenfull=!0:m.isScreenfull=!1})},R=()=>{se.emit("openSetingsDrawer")},A=c=>{c==="logOut"?ae({closeOnClickModal:!1,closeOnPressEscape:!1,title:"提示",message:"此操作将退出登录, 是否继续?",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",buttonSize:"default",beforeClose:(p,s,h)=>{p==="confirm"?(s.confirmButtonLoading=!0,s.confirmButtonText="退出中",setTimeout(()=>{h(),setTimeout(()=>{s.confirmButtonLoading=!1},300)},700)):h()}}).then(async()=>{re.clear(),window.location.reload()}).catch(()=>{}):c==="wareHouse"?window.open("https://gitee.com/lyt-top/vue-next-admin"):f.push(c)},D=()=>{F.value.openSearch()},L=c=>{S.remove("themeConfig"),C.value.globalComponentSize=c,S.set("themeConfig",C.value),k("globalComponentSize","disabledSize"),window.location.reload()},k=(c,p)=>{m[p]=S.get("themeConfig")[c]};return Q(()=>{S.get("themeConfig")&&k("globalComponentSize","disabledSize")}),(c,p)=>{const s=i("el-dropdown-item"),h=i("el-dropdown-menu"),x=i("el-dropdown"),O=i("ele-Search"),E=i("el-icon"),V=i("ele-Bell"),U=i("el-badge"),H=i("el-popover"),j=i("ele-ArrowDown");return W(),X("div",{class:"layout-navbars-breadcrumb-user pr15",style:ee({flex:g(I)})},[e(x,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:L},{dropdown:o(()=>[e(h,null,{default:o(()=>[e(s,{command:"large",disabled:m.disabledSize==="large"},{default:o(()=>[u("大型")]),_:1},8,["disabled"]),e(s,{command:"default",disabled:m.disabledSize==="default"},{default:o(()=>[u("默认")]),_:1},8,["disabled"]),e(s,{command:"small",disabled:m.disabledSize==="small"},{default:o(()=>[u("小型")]),_:1},8,["disabled"])]),_:1})]),default:o(()=>[ue]),_:1}),a("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:D},[e(E,{title:"菜单搜索"},{default:o(()=>[e(O)]),_:1})]),a("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:R},me),a("div",fe,[e(H,{placement:"bottom",trigger:"click",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:o(()=>[e(U,{"is-dot":!0},{default:o(()=>[e(E,{title:"消息"},{default:o(()=>[e(V)]),_:1})]),_:1})]),default:o(()=>[e(g(l))]),_:1})]),a("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:N},[a("i",{class:Y(["iconfont",m.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:m.isScreenfull?"关全屏":"开全屏"},null,10,_e)]),e(x,{"show-timeout":70,"hide-timeout":50,onCommand:A},{dropdown:o(()=>[e(h,null,{default:o(()=>[e(s,{command:"/home"},{default:o(()=>[u("首页")]),_:1}),e(s,{command:"wareHouse"},{default:o(()=>[u("代码仓库")]),_:1}),e(s,{command:"/404"},{default:o(()=>[u("404")]),_:1}),e(s,{command:"/401"},{default:o(()=>[u("401")]),_:1}),e(s,{divided:"",command:"logOut"},{default:o(()=>[u("退出登录")]),_:1})]),_:1})]),default:o(()=>[a("span",pe,[a("img",{src:g(v).photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,be),u(" "+Z(g(v).userName===""?"common":g(v).userName)+" ",1),e(E,{class:"el-icon--right"},{default:o(()=>[e(j)]),_:1})])]),_:1}),e(g(t),{ref_key:"searchRef",ref:F},null,512)],4)}}});const ze=ie(ge,[["__scopeId","data-v-5c8ebff0"]]);export{ze as default};
