import{h as I,ar as R,aq as T,aG as U,K as B,a as D,a9 as n,ac as E,j as f,v as g,x as e,D as o,l as V,n as $,y,B as j,aD as z,aE as A}from"./vue.2fa98121.js";import{S,a as M}from"./storage.542a95ff.js";import{u as O}from"./themeConfig.d1e9143e.js";import{i as G,a as J}from"./index.61bdf2ac.js";import{a as K}from"./formatTime.29ac8c52.js";import{N as L}from"./loading.feb74a4a.js";import{b8 as N}from"./index.d83bf2e6.js";import{_ as H}from"./_plugin-vue_export-helper.c27b6911.js";import"./_commonjsHelpers.48992372.js";import"./index.a9b756de.js";import"./keepAliveNames.b0407c3b.js";import"./routesList.d06143f7.js";import"./preload-helper.101896b7.js";import"./userInfo.79f4e961.js";import"./tagsViewRoutes.9553160b.js";import"./index.8901bb4c.js";const Q=m=>(z("data-v-2a4d9848"),m=m(),A(),m),W=Q(()=>V("span",null,"登 录",-1)),X=I({name:"loginAccount"}),Y=I({...X,setup(m){const C=O(),{themeConfig:k}=R(C),u=T(),w=U(),t=B({isShowPassword:!1,ruleForm:{userName:"admin",password:"123456",code:"1234"},loading:{signIn:!1}}),F=D(()=>K(new Date)),P=async()=>{if(t.loading.signIn=!0,S.set("token",Math.random().toString(36).substr(0)),M.set("userName",t.ruleForm.userName),k.value.isRequestRoutes){const a=await J();x(a)}else{const a=await G();x(a)}},x=a=>{var s,p,l,i;if(a)N.warning("抱歉，您没有登录权限"),S.clear();else{let r=F.value;(s=u.query)!=null&&s.redirect?w.push({path:(p=u.query)==null?void 0:p.redirect,query:Object.keys((l=u.query)==null?void 0:l.params).length>0?JSON.parse((i=u.query)==null?void 0:i.params):""}):w.push("/");const d="欢迎回来！";N.success(`${r}，${d}`),L.start()}t.loading.signIn=!1};return(a,s)=>{const p=n("ele-User"),l=n("el-icon"),i=n("el-input"),r=n("el-form-item"),d=n("ele-Unlock"),b=n("ele-Position"),_=n("el-col"),h=n("el-button"),q=n("el-form"),v=E("waves");return f(),g(q,{size:"large",class:"login-content-form"},{default:e(()=>[o(r,{class:"login-animation1"},{default:e(()=>[o(i,{text:"",placeholder:"用户名 admin 或不输均为 common",modelValue:t.ruleForm.userName,"onUpdate:modelValue":s[0]||(s[0]=c=>t.ruleForm.userName=c),clearable:"",autocomplete:"off"},{prefix:e(()=>[o(l,{class:"el-input__icon"},{default:e(()=>[o(p)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(r,{class:"login-animation2"},{default:e(()=>[o(i,{type:t.isShowPassword?"text":"password",placeholder:"密码：123456",modelValue:t.ruleForm.password,"onUpdate:modelValue":s[2]||(s[2]=c=>t.ruleForm.password=c),autocomplete:"off"},{prefix:e(()=>[o(l,{class:"el-input__icon"},{default:e(()=>[o(d)]),_:1})]),suffix:e(()=>[V("i",{class:$(["iconfont el-input__icon login-content-password",t.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:s[1]||(s[1]=c=>t.isShowPassword=!t.isShowPassword)},null,2)]),_:1},8,["type","modelValue"])]),_:1}),o(r,{class:"login-animation3"},{default:e(()=>[o(_,{span:15},{default:e(()=>[o(i,{text:"",maxlength:"4",placeholder:"请输入验证码",modelValue:t.ruleForm.code,"onUpdate:modelValue":s[3]||(s[3]=c=>t.ruleForm.code=c),clearable:"",autocomplete:"off"},{prefix:e(()=>[o(l,{class:"el-input__icon"},{default:e(()=>[o(b)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(_,{span:1}),o(_,{span:8},{default:e(()=>[y((f(),g(h,{class:"login-content-code"},{default:e(()=>[j("1234")]),_:1})),[[v]])]),_:1})]),_:1}),o(r,{class:"login-animation4"},{default:e(()=>[y((f(),g(h,{type:"primary",class:"login-content-submit",round:"",onClick:P,loading:t.loading.signIn},{default:e(()=>[W]),_:1},8,["loading"])),[[v]])]),_:1})]),_:1})}}});const fe=H(Y,[["__scopeId","data-v-2a4d9848"]]);export{fe as default};
